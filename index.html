<!DOCTYPE html>
<html>
  <head>
    <title>SEIU Metrics Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SEIU Metrics Calculator">
    <meta name="author" content="SEIU">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">

    <style type="text/css">
          body {
            padding-top: 60px;
            padding-bottom: 40px;
          }
          .sidebar-nav {
            padding: 9px 0;
          }
        </style>

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
  </head>
  <body>
    <div id="inputContainer">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">SEIU</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#resources">Resources/Help</a></li>
                <li><a href="#sample">Sample</a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </nav>

        <div class="container-fluid">
            <div class="row-fluid">
                <div class="col-xs-12">
                    <div class="hero-unit">
                        <h1>Welcome to the SEIU Metrics Calculator</h1>
                    </div>
                    <div class="row-fluid">
                        <form class="navbar-form" id="inputForm" method="POST" action="report.html">
                            <div class="span11"><a name="#"></a>
                                <div id="rootwizard">
                                    <div class="navbar">
                                        <div class="navbar-inner">
                                            <div class="container">
                                                <ul>
                                                    <li><a href="#tab1" data-toggle="tab">Your Information</a></li>
                                                    <li><a href="#tab2" data-toggle="tab">Member Counts</a></li>
                                                    <li><a href="#tab3" data-toggle="tab">Political Engagement</a></li>
                                                    <li><a href="#tab4" data-toggle="tab">Contact Avenues</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                        <div class="tab-content">
                                            <div class="tab-pane" id="tab1">

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="email">Email Address</label>
                                                        <input type="text" id="email" name="email" class="form-control" placeholder="Email Address"/>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                     <div class="input-group">
                                                        <label for="local">Local</label>
                                                        <input type="text" id="local" name="local" class="form-control" placeholder="Local"/>
                                                    </div>                                     
                                                </div>
                         
                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="report_type">Report Type</label>
                                                        <select id="report_type" name="report_type" class="form-control">
                                                            <option value="opt1">Type 1</option>
                                                            <option value="opt2">Type 2</option>
                                                            <option value="opt3">Type 3</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="report_name">Report Name</label>
                                                        <input type="text" id="report_name" name="report_name" class="form-control" placeholder="Report Name"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="date">As of Date</label>
                                                        <input type="text" id="date" name="date" class="form-control" placeholder="mm/dd/yyyy"/>                               
                                                    </div>
                                                </div>                                                                
                                            </div>

                                            <div class="tab-pane" id="tab2">
                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="obligation_count">Number of members you are obligated to represent</label>
                                                        <input type="text" id="obligation_count" name="obligation_count" class="form-control" data-validation-type="mandatory_integer" data-zero-valid="false"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="full_dues_count">Number of members from whom you recieve full dues</label>
                                                        <input type="text" id="full_dues_count" name="full_dues_count" class="form-control" data-validation-type="mandatory_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="partial_dues_count">Number of members from whom you recieve partial dues</label>
                                                        <input type="text" id="partial_dues_count" name="partial_dues_count" class="form-control" data-validation-type="mandatory_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="member_card_count">Number of members who have signed membership cards</label>
                                                        <input type="text" id="member_card_count" name="member_card_count" class="form-control" data-validation-type="mandatory_integer"/>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="tab-pane" id="tab3">
                                                
                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="political_card_count">Number of members who have agreed to contribute to political funds</label>
                                                        <input type="text" id="political_card_count" name="political_card_count" class="form-control" data-validation-type="mandatory_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="political_contributor_count">Number of members from whom you regularly receive political contributions</label>
                                                        <input type="text" id="political_contributor_count" name="political_contributor_count" class="form-control" data-validation-type="mandatory_integer"/>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane" id="tab4">
                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="mailing_count">Number of members with complete mailing addresses</label>
                                                        <input type="text" id="mailing_count" name="mailing_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="home_email_count">Number of members with home email addresses</label>
                                                        <input type="text" id="home_email_ount" name="home_email_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="work_email_count">Number of members with work email addresses</label>
                                                        <input type="text" id="work_email_count" name="work_email_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="sms_count">Number of members who have authorized SMS</label>
                                                        <input type="text" id="sms_count" name="sms_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="home_phone_count">Number of members who have provided a home phone number</label>
                                                        <input type="text" id="home_phone_count" name="home_phone_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="input-group">
                                                        <label for="cell_phone_count">Number of members who have provided a cell phone number</label>
                                                        <input type="text" id="cell_phone_count" name="cell_phone_count" class="form-control" data-validation-type="optional_integer"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <ul class="pager wizard">
                                                <li class="previous first" style="display:none;"><a href="javascript:;">First</a></li>
                                                <li class="previous"><a href="javascript:;">Previous</a></li>
                                                <li class="next last" style="display:none;"><a href="javascript:;">Last</a></li>
                                                <li class="next"><a href="javascript:;">Next</a></li>
                                            </ul>
                                        </div>                    
                                </div>
                            </div><!--/span-->

                            <div class="span11">
                                <button type="submit" class="btn btn-default" id="btnSubmit" disabled>Generate Report</button>
                            <div>
                        </form>
                    </div>
                    <div class="row-fluid">
                        <a id="resources"></a>
                        <div class="span11">
                            <h2>Resources/Help</h2>
                            
                            <h3>Helpful Resources for Data Collection and Analysis</h3>
                            
                                We've put together this list of helpful resources for your reference. If you have any questions or suggestions, please email xxx@seiu.org. Enjoy!
                                
                                <div class="well well-lg">
                                    <h4>Instructions and FAQs on the Online Calculator</h4>

                                    SEIU Metrics Calculator Frequently Asked Questions
                                    <div class="well well-lg">
                                        <a href="#faq">The FAQs</a> answer questions such as "why should I use this calculator," "what do you mean by this term," and "where do I get the numbers I need for this calculator."
                                    </div>

                                    SEIU Metrics Calculator Manual
                                    <div class="well well-lg">
                                        <a href="#manual">This manual</a> includes basic instructions on how to use the metrics calculator.
                                    </div>

                                    <h4>SEIU Resources</h4>

                                    Teach SEIU
                                    <div class="well well-lg">
                                        <a href="http://teach.seiu.org">Teach SEIU</a> is a site for the SEIU community with curriculum on leadership development, organizing, administrative and technical skills, and more.
                                    </div>

                                    <h4>Data Cleaning Instructions</h4>

                                    Microsoft Office
                                    <div class="well well-lg">
                                        <a href="https://support.office.com/en-nz/article/Top-ten-ways-to-clean-your-data-2844b620-677c-47a7-ac3e-c2e157d1db19">This article</a>, entitled "Top ten ways to clean your data," details all of the different techniques that you can use to clean data, including links to instructions on how to perform each task.
                                    </div>

                                    SQL
                                    <div class="well well-lg">
                                        <div>
                                            <a href="https://sqlbits.com/Sessions/Event11/Cleaning_Up_Dirty_Data_with_SSIS">This webinar</a>, entitled "Cleaning Up Dirty Data with SSIS," demonstrates how to use SQL to clean up dirty databases.
                                        </div>
                                        <hr>
                                        <div>
                                            <a href="http://decisivedata.net/blog/cleaning-messy-data-sql-part-3-sql-functions-clean-strings/">This article</a>, entitled "Cleaning Messy Data in SQL, Part 3: SQL Functions to Clean Strings" includes instructions and a list of functions to help clean messy data in SQL. It is part 3 of a series, which includes a part on fuzzy matching. 
                                        </div>
                                    </div>

                                    <h4>Data Cleaning Tools</h4>

                                    OpenRefine
                                    <div class="well well-lg">
                                        <a href="http://openrefine.org/">OpenRefine</a> formerly known as Google Refine, is a tool to work with messy data to clean it, transform it to a different format, extend it with web services, and link it to databases like Freebase. 
                                    </div>

                                    Data Wrangler
                                    <div class="well well-lg">
                                        <a href="http://vis.stanford.edu/wrangler/">Data Wrangler</a>, a project originally based out of Stanford, is a free, interactive tool for data cleaning and transformation.
                                    </div>

                                    Data Quality Services in SQL
                                    <div class="well well-lg">
                                        Data Quality Services is a set of new SQL features that help SQL users clean up their data. <a href="https://msdn.microsoft.com/en-us/library/gg524800.aspx">Here is an article</a> from Microsoft talking about DQS.
                                    </div>

                                    <h4>Webinars and Other Tutorials</h4>

                                    AFL-CIO Digital Training Series
                                    <div class="well well-lg">
                                        The AFL-CIO created <a href="http://act.aflcio.org/content_item/2013-digital-training">a series of webinars</a> on social media, including videos on using Facebook, Twitter, email and analytics, SMS, online ads, and also a webinar entitled "Getting Buy-In."
                                    </div>

                                    Coursera
                                    <div class="well well-lg">
                                        <a href="http://coursera.org">Coursera.org</a> is a free, massive open online course (MOOC) that hosts a wide variety of online classes from universities all over the world. Some classes of note include:
                                        <ul>
                                            <li>
                                                <a href="https://www.coursera.org/course/datascitoolbox">The Data Scientist's Toolbox</a>, from Johns Hopkins University, as well as other courses from their <a href="https://www.coursera.org/specialization/jhudatascience/1?utm_medium=courseDescripSidebar">Data Science Specialization</a>, including <a href="https://www.coursera.org/course/getdata">Getting and Cleaning Data</a>.
                                            </li>
                                            <li>
                                                <a href="https://www.coursera.org/course/androidpart1">Programming Mobile Applications for Android Handheld Systems</a> from the University of Maryland
                                            </li>
                                        </ul>
                                    </div>

                                    W3 Schools
                                    <div class="well well-lg">
                                        <a href="http://w3schools.com">W3Schools.com</a> provides free lessons on a variety of web languages, including HTML/CSS, JavaScript, SQL, PHP, XML, and more. They are not webinars, but rather a series of instructions, with the option to test techniques out in the browser.
                                    </div>

                                    Codecademy
                                    <div class="well well-lg">
                                        <a href="http://www.codecademy.com/">Codecademy</a> offers interactive, online courses in a variety of programming languages including PHP, Ruby on Rails, HTML & CSS, JavaScript, Python, jQuery, and a variety of APIs, including the Sunlight Foundation's APIs.
                                    </div>
                                </div>
                            <h3>Help</h3><a id="help"></a>

                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span11"><a id="sample"></a>
                            <h2>Sample</h2>
                            "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                        </div>
                    </div><!--/row-->
                </div><!--/span-->
            </div><!--/row-->
            <hr>
        </div><!--/.fluid-container-->
    </div>

    <div id="reportContainer">
            <h1 id="report_title">Placeholder Title</h1>
            <h2>Universe</h2>
            <div id="universe1_holder">
                <canvas id="universe1_chart" width="300" height="300" />
            </div>
            <h2>Political Engagement</h2>
            <h2>Contact Avenues</h2>
    </div>

    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="js/jquery.bootstrap.wizard.min.js"></script>
    <script src="formValidation.js"></script>
    <script src="js/metrics.js"></script>
    <script src="js/Chart.min.js"></script>
    <script src="js/Chart.Doughnut.js"></script>
    <script src="js/chartDataSetGeneration.js"></script>
    <script>
        $(document).ready(function () {
            $('input[data-validation-type="mandatory_integer"]').on("change", function (eventObject) {
                validateIntegerInput(eventObject.target.value, eventObject)
            });
            $('input[data-validation-type="optional_integer"]').on("change", function (eventObject) {
                validateOptionalIntegerInput(eventObject.target.value, eventObject)
            });
            $('#date').on("change", function (eventObject) {
                validateDateInput(eventObject.target.value, eventObject)
            });
            $('#rootwizard').bootstrapWizard({
                onTabShow: function (tab, navigation, index) {
                    var $total = navigation.find('li').length;
                    var $current = index + 1;
                    var $percent = ($current / $total) * 100;
                    $('#rootwizard').find('.bar').css({ width: $percent + '%' });
                }
            });

            $("#inputForm").submit(function(){
                var metricsCalc = seiuMetrics;
                metricsCalc.getInputValues();
                metricsCalc.calculateMetrics();
                var metricsData = metricsCalc.getMetricsOutput();

                var pieData = generateDuesChartDataSet(metricsData);
                var chartOptions = { legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>" }
                var ctx = $("#universe1_chart").get(0).getContext("2d");
                window.myPie = new Chart(ctx).Pie(pieData, chartOptions);
                $("#universe1_chart").after(window.myPie.generateLegend())                
                return false;
            });

        });
    </script>
  </body>
</html>
